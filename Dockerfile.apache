# Use the official Apache HTTP Server image (Debian-based)
FROM httpd:2.4

# Install required packages for mod_ssl and mod_rewrite
RUN apt-get update && \
    apt-get install -y openssl apache2-utils apache2 && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Enable SSL and Rewrite modules using a2enmod
RUN a2enmod ssl && \
    a2enmod rewrite

# Expose HTTP (80) and HTTPS (443) ports
EXPOSE 80 443

# Command to run Apache in the foreground
CMD ["httpd-foreground"]
